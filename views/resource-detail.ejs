<!DOCTYPE html>
<html lang="en">
<head>
    <title><%= resource.title %></title>
    <%- include('./partials/header.ejs'); %>
    <style>
        .resource-viewer { max-width: 800px; margin: 20px auto; padding: 20px; background: #fff; box-shadow: 0 4px 12px rgba(0,0,0,0.1); border-radius: 8px; }
        .resource-viewer h1 { margin-top: 0; }
        .resource-viewer .categories { margin-bottom: 20px; }
        .resource-viewer .category-tag { background: #eee; padding: 5px 10px; border-radius: 15px; font-size: 0.9em; }
        .resource-viewer .article-content { line-height: 1.7; }
        .video-embed { position: relative; padding-bottom: 56.25%; /* 16:9 Aspect Ratio */ height: 0; overflow: hidden; max-width: 100%; background: #000; }
        .video-embed iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
    
        /* Style for the infographic image */
        .infographic-image {
            width: 100%;
            height: auto; /* Maintain aspect ratio */
            border-radius: 4px;
        }
    
    </style>
</head>

<div class="resource-viewer">
    <h1><%= resource.title %></h1>
    
    <div class="categories">
        <% resource.categories.forEach(category => { %>
            <span class="category-tag"><%= category %></span>
        <% }); %>
    </div>

    <hr>

    <% if (resource.type === 'Article') { %>
        <div class="article-content">
            <%- resource.content %>
        </div>
        
    <% } else if (resource.type === 'Video') { %>
        <div class="video-embed">
            <iframe 
                src="<%= resource.videoUrl %>" 
                frameborder="0" 
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                allowfullscreen>
            </iframe>
        </div>
        
    <% } else if (resource.type === 'Infographic') { %>
        <div>
            <img src="<%= resource.imageUrl %>" alt="<%= resource.title %>" class="infographic-image">
        </div>
    <% } %>

</div>

<%- include('./partials/footer.ejs')%>
</html>